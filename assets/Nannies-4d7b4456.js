import{j as s,b as l,I as j,c as R,d as S,q as C,l as $,g as D,B as y,u as F,e as b,M as z,r as v,f as e,h as f,i as p,k as E,m as t,o as I,n as L}from"./index-64ba73e2.js";const k=a=>{const n=new Date(a),i=new Date().getTime()-n.getTime();return Math.floor(i/(1e3*60*60*24*365.25))},P=a=>a.map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(", "),T=a=>a.charAt(0).toUpperCase(),Z=a=>Number(a).toFixed(1),q=()=>s.jsxs("div",{className:l.filter_wrapper,children:[s.jsx("p",{className:l.text,children:"Filters"}),s.jsxs("button",{className:l.dropdown_btn,children:["A to Z",s.jsx(j,{id:"arrow-down",size:20,className:l.icon})]}),s.jsxs("ul",{className:l.dropdown_list,children:[s.jsx("li",{className:l.dropdown_list_item,children:"A to Z"}),s.jsx("li",{className:l.dropdown_list_item,children:"Z to A"}),s.jsx("li",{className:l.dropdown_list_item,children:"Less than 10$"}),s.jsx("li",{className:l.dropdown_list_item,children:"Greater than 10$"}),s.jsx("li",{className:l.dropdown_list_item,children:"Popular"}),s.jsx("li",{className:l.dropdown_list_item,children:"Not popular"}),s.jsx("li",{className:l.dropdown_list_item,children:"Show all"})]})]}),U=async()=>{try{const a=R(S,"/"),n=C(a,$(3)),r=await D(n);return r.exists()?r.val():null}catch{y.error("Something went wrong.")}},B=({reviews:a,name:n,avatar_url:r})=>{const[i,c]=F();return s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:b.list,children:a==null?void 0:a.map(({comment:d,rating:m,reviewer:o})=>s.jsx(Q,{comment:d,rating:m,reviewer:o},o))}),s.jsx("button",{className:b.btn_appointment,onClick:c,children:"Make an appointment"}),i&&s.jsx(z,{title:"Make an appointment with a babysitter",toggleModal:c,children:s.jsx(W,{toggleModal:c,name:n,avatar_url:r})})]})},G=({name:a,avatar_url:n,education:r,experience:i,kids_age:c,characters:d,about:m,birthday:o,location:x,price_per_hour:h,rating:N,reviews:u})=>{const _=k(o),w=P(d),[g,A]=v.useState(!1),M=()=>{A(!g)};return s.jsx("li",{className:e.item,children:s.jsxs("div",{className:e.nanny_card,children:[s.jsxs("div",{className:e.avatar_wrapper,children:[s.jsx("img",{className:e.avatar,src:n,alt:"Nanny's avatar"}),s.jsx(j,{className:e.icon_online,id:"online",size:14})]}),s.jsxs("div",{children:[s.jsx("p",{className:e.title,children:"Nanny"}),s.jsx("p",{className:e.accent_name,children:a}),s.jsxs("div",{className:e.wrapper_inside,children:[s.jsxs("p",{className:e.text_wrapper,children:["Age: ",s.jsxs("span",{className:e.accent_age,children:[" ",_]})]}),s.jsxs("p",{className:e.text_wrapper,children:["Experience:",s.jsxs("span",{className:e.accent,children:[" ",i]})]}),s.jsxs("p",{className:e.text_wrapper,children:["Kids Age:",s.jsxs("span",{className:e.accent,children:[" ",c]})]}),s.jsxs("p",{className:e.text_wrapper,children:["Characters:",s.jsxs("span",{className:e.accent,children:[" ",w]})]}),s.jsxs("p",{className:e.text_wrapper,children:["Education:",s.jsxs("span",{className:e.accent,children:[" ",r]})]})]}),s.jsx("p",{className:e.about,children:m}),g&&s.jsx(B,{reviews:u,name:a,avatar_url:n}),!g&&s.jsx("button",{className:e.btn_more,onClick:M,children:"Read more"})]}),s.jsxs("div",{className:e.wrapper_top,children:[s.jsxs("p",{className:e.wrapper_top_inside,children:[s.jsx(j,{id:"location",size:16}),x]}),s.jsxs("p",{className:e.wrapper_top_inside,children:[s.jsx(j,{className:e.icon_star,id:"star",size:16}),"Rating: ",N]}),s.jsxs("p",{className:e.price_text,children:["Price / 1 hour:",s.jsxs("span",{className:e.price,children:[" ",h,"$"]})]})]}),s.jsx("button",{className:e.btn_heart,children:s.jsx(j,{id:"heart",size:26})})]})})},K=()=>{const[a,n]=v.useState([]);return console.log(a),v.useEffect(()=>{(async()=>{try{const i=await U();console.log(i),n(i)}catch{y.error("Something went wrong.")}})()},[]),s.jsxs("div",{className:f.wrapper,children:[s.jsx("ul",{className:f.list,children:a==null?void 0:a.map(({name:r,avatar_url:i,education:c,experience:d,kids_age:m,characters:o,about:x,birthday:h,location:N,price_per_hour:u,rating:_,reviews:w})=>s.jsx(G,{name:r,avatar_url:i,education:c,experience:d,kids_age:m,characters:o,about:x,birthday:h,rating:_,price_per_hour:u,location:N,reviews:w},r))}),s.jsx("button",{className:f.btn_more,children:"Load more"})]})},Q=({comment:a,rating:n,reviewer:r})=>{const i=T(r),c=Z(n);return s.jsxs("li",{className:p.item,children:[s.jsxs("div",{className:p.wrapper,children:[s.jsx("div",{className:p.letter,children:i}),s.jsxs("div",{className:p.wrapper_inside,children:[s.jsx("p",{children:r}),s.jsxs("div",{className:p.wrapper_icon,children:[s.jsx(j,{className:p.icon,id:"star",size:16}),s.jsx("p",{className:p.text_wrapper,children:c})]})]})]}),s.jsx("p",{className:p.comment,children:a})]})},W=({name:a,avatar_url:n})=>{var d,m,o,x,h;const{register:r,handleSubmit:i,formState:{errors:c}}=E({resolver:I(L)});return s.jsxs("div",{className:t.wrapper,children:[s.jsx("p",{className:t.description,children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),s.jsxs("div",{className:t.inside_wrapper,children:[s.jsx("img",{className:t.avatar,src:n,alt:"Nanny's avatar"}),s.jsxs("div",{children:[s.jsx("p",{className:t.description,children:"Your nanny"}),s.jsx("p",{className:t.name,children:a})]})]}),s.jsxs("form",{onSubmit:i,className:t.form,children:[s.jsxs("div",{className:t.input_wrapper,children:[s.jsx("input",{type:"text",...r("address"),placeholder:"Address"}),s.jsx("p",{className:t.form_error,children:(d=c.address)==null?void 0:d.message})]}),s.jsxs("div",{className:t.input_wrapper,children:[s.jsx("input",{type:"text",...r("age"),placeholder:"Child's age"}),s.jsx("p",{className:t.form_error,children:(m=c.age)==null?void 0:m.message})]}),s.jsxs("div",{className:t.input_wrapper,children:[s.jsx("input",{type:"email",...r("email"),placeholder:"Email"}),s.jsx("p",{className:t.form_error,children:(o=c.email)==null?void 0:o.message})]}),s.jsxs("div",{className:t.input_wrapper,children:[s.jsx("input",{type:"text",...r("text"),placeholder:"Father's or mother's name"}),s.jsx("p",{className:t.form_error,children:(x=c.text)==null?void 0:x.message})]}),s.jsxs("div",{className:t.input_wrapper,children:[s.jsx("textarea",{...r("comment"),placeholder:"Comment"}),s.jsx("p",{className:t.form_error,children:(h=c.text)==null?void 0:h.message})]}),s.jsx("button",{className:t.btn_submit,type:"submit",children:"Send"})]})]})},Y="_wrapper_1w2zx_1",H={wrapper:Y},O=()=>s.jsxs("div",{className:H.wrapper,children:[s.jsx(q,{}),s.jsx(K,{})]});export{O as default};
