import{r as s,j as e,d as o,g as F,B as h,e as w,c as L}from"./index-b1deb7bc.js";import{G as b,N as S,F as y}from"./GetUser-3558ea3a.js";const I=({setLoading:a})=>{const[n,f]=s.useState([]),[c,g]=s.useState(3),[j,u]=s.useState(!1),[p,v]=s.useState(0),[x,l]=s.useState(!0),d=b();s.useEffect(()=>{(async()=>{u(!0);try{a(!0),l(!0);const i=await F(d);if(i){const t=Object.values(i);v(t.length),l(!1),(t.length===0||t.length===3||t.length<c)&&(u(!1),l(!1),h.info("You have reached the end of nannies' list."))}const m=await w(d,c);if(a(!1),m){const t=Object.values(m);f(t)}else return}catch{h.error("Something went wrong.")}})()},[c,d,p,a]);const N=r=>{g(i=>i+3),r.target.blur()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:o.wrapper,children:[e.jsx("ul",{className:o.list,children:n.map(r=>e.jsx(S,{...r},r.name))}),n.length===0&&e.jsx("div",{className:o.text_any,children:"There are no favorite nannies."}),!x&&j&&n.length!==0&&e.jsx("button",{className:o.btn_more,onClick:N,children:"Load more"})]})})},_="_wrapper_1dfpy_1",O={wrapper:_},U=()=>{const[a,n]=s.useState(!1);return e.jsxs(e.Fragment,{children:[a&&e.jsx(L,{size:25}),e.jsxs("div",{className:O.wrapper,children:[e.jsx(y,{}),e.jsx(I,{setLoading:n})]})]})};export{U as default};
