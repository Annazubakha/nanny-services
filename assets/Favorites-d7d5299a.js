import{r as t,j as e,d as i,g as N,B as h,e as g,c as F}from"./index-fda209af.js";import{G as w,N as b,F as y}from"./GetUser-c77bc7cd.js";const L=({setLoading:a})=>{const[n,u]=t.useState([]),[o,f]=t.useState(3),[j,l]=t.useState(!1),[p,v]=t.useState(0),c=w();t.useEffect(()=>{(async()=>{l(!0);try{a(!0);const m=await N(c);if(m){const s=Object.values(m);v(s.length),(s.length===0||s.length===3||s.length<o)&&(l(!1),h.info("You have reached the end of nannies' list."))}const d=await g(c,o);if(a(!1),d){const s=Object.values(d);u(s)}else return}catch{h.error("Something went wrong.")}})()},[o,c,p,a]);const x=()=>{f(r=>r+3)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:i.wrapper,children:[e.jsx("ul",{className:i.list,children:n.map(r=>e.jsx(b,{...r},r.name))}),n.length===0&&e.jsx("div",{className:i.text_any,children:"There are no favorite nannies."}),j&&n.length!==0&&e.jsx("button",{className:i.btn_more,onClick:x,children:"Load more"})]})})},S="_wrapper_1dfpy_1",_={wrapper:S},I=()=>{const[a,n]=t.useState(!1);return e.jsxs(e.Fragment,{children:[a&&e.jsx(F,{size:25}),e.jsxs("div",{className:_.wrapper,children:[e.jsx(y,{}),e.jsx(L,{setLoading:n})]})]})};export{I as default};
