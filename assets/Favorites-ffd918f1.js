import{r as s,j as e,d as c,g as w,B as j,e as L,c as S}from"./index-9915136f.js";import{G as b,N as y,F as I}from"./GetUser-04f4a724.js";const _=({setLoading:a,filter:i})=>{const[n,l]=s.useState([]),[u,p]=s.useState(3),[v,h]=s.useState(!1),[x,F]=s.useState(0),[f,d]=s.useState(!0),m=b();s.useEffect(()=>{(async()=>{h(!0);try{a(!0),d(!0);const o=await w(m);if(o){const t=Object.values(o);F(t.length),d(!1),(t.length===0||t.length===3||t.length<u)&&(h(!1),d(!1),j.info("You have reached the end of nannies' list."))}const g=await L(m,u,i);if(a(!1),g){const t=Object.values(g);l(t)}else return}catch{j.error("Something went wrong.")}})()},[u,m,x,a,i]);const N=r=>{p(o=>o+3),r.target.blur()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:c.wrapper,children:[e.jsx("ul",{className:c.list,children:n.map(r=>e.jsx(y,{...r},r.name))}),f&&n.length===0&&e.jsx("div",{className:c.text_any,children:"There are no favorite nannies."}),!f&&v&&n.length!==0&&e.jsx("button",{className:c.btn_more,onClick:N,children:"Load more"})]})})},O="_wrapper_1dfpy_1",A={wrapper:O},U=()=>{const[a,i]=s.useState(!1),[n,l]=s.useState("A to Z");return e.jsxs(e.Fragment,{children:[a&&e.jsx(S,{size:25}),e.jsxs("div",{className:A.wrapper,children:[e.jsx(I,{setFilter:l}),e.jsx(_,{setLoading:i,filter:n})]})]})};export{U as default};
