import{u as A,j as e,b as M,M as S,r as u,c as s,I as N,d as C,f as F,B as y,e as m,g as I,h as a,C as R,P as k,o as D,p as z,i as P}from"./index-7cb3f235.js";import{F as E}from"./Filters-fe2328d8.js";const L=r=>{const c=new Date(r),n=new Date().getTime()-c.getTime();return Math.floor(n/(1e3*60*60*24*365.25))},$=r=>r.map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(", "),T=r=>r.charAt(0).toUpperCase(),U=r=>Number(r).toFixed(1),Y=({reviews:r,name:c,avatar_url:t})=>{const[n,l]=A();return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:M.list,children:r==null?void 0:r.map(({comment:d,rating:i,reviewer:o})=>e.jsx(W,{comment:d,rating:i,reviewer:o},o))}),e.jsx("button",{className:M.btn_appointment,onClick:l,children:"Make an appointment"}),n&&e.jsx(S,{title:"Make an appointment with a babysitter",toggleModal:l,children:e.jsx(q,{toggleModal:l,name:c,avatar_url:t})})]})},B=({name:r,avatar_url:c,education:t,experience:n,kids_age:l,characters:d,about:i,birthday:o,location:p,price_per_hour:g,rating:_,reviews:w})=>{const f=L(o),v=$(d),[h,b]=u.useState(!1),x=()=>{b(!h)},j=()=>{};return e.jsx("li",{className:s.item,children:e.jsxs("div",{className:s.nanny_card,children:[e.jsxs("div",{className:s.avatar_wrapper,children:[e.jsx("img",{className:s.avatar,src:c,alt:"Nanny's avatar"}),e.jsx(N,{className:s.icon_online,id:"online",size:14})]}),e.jsxs("div",{children:[e.jsx("p",{className:s.title,children:"Nanny"}),e.jsx("p",{className:s.accent_name,children:r}),e.jsxs("div",{className:s.wrapper_inside,children:[e.jsxs("p",{className:s.text_wrapper,children:["Age: ",e.jsxs("span",{className:s.accent_age,children:[" ",f]})]}),e.jsxs("p",{className:s.text_wrapper,children:["Experience:",e.jsxs("span",{className:s.accent,children:[" ",n]})]}),e.jsxs("p",{className:s.text_wrapper,children:["Kids Age:",e.jsxs("span",{className:s.accent,children:[" ",l]})]}),e.jsxs("p",{className:s.text_wrapper,children:["Characters:",e.jsxs("span",{className:s.accent,children:[" ",v]})]}),e.jsxs("p",{className:s.text_wrapper,children:["Education:",e.jsxs("span",{className:s.accent,children:[" ",t]})]})]}),e.jsx("p",{className:s.about,children:i}),h&&e.jsx(Y,{reviews:w,name:r,avatar_url:c}),!h&&e.jsx("button",{className:s.btn_more,onClick:x,children:"Read more"})]}),e.jsxs("div",{className:s.wrapper_top,children:[e.jsxs("p",{className:s.wrapper_top_inside,children:[e.jsx(N,{id:"location",size:16}),p]}),e.jsxs("p",{className:s.wrapper_top_inside,children:[e.jsx(N,{className:s.icon_star,id:"star",size:16}),"Rating: ",_]}),e.jsxs("p",{className:s.price_text,children:["Price / 1 hour:",e.jsxs("span",{className:s.price,children:[" ",g,"$"]})]})]}),e.jsx("button",{className:s.btn_heart,onClick:j,children:e.jsx(N,{id:"heart",size:26})})]})})},K=()=>{const[r,c]=u.useState([]),[t,n]=u.useState(3),[l,d]=u.useState(!0);u.useEffect(()=>{(async()=>{try{const p=await F(t);c(p),(p.length===0||p.length<t)&&(d(!1),y.info("You have reached the end of nannies' list."))}catch{y.error("Something went wrong.")}})()},[t]);const i=()=>{n(o=>o+3)};return e.jsxs("div",{className:C.wrapper,children:[e.jsx("ul",{className:C.list,children:r==null?void 0:r.map(o=>e.jsx(B,{...o},o.name))}),l&&e.jsx("button",{className:C.btn_more,onClick:i,children:"Load more"})]})},W=({comment:r,rating:c,reviewer:t})=>{const n=T(t),l=U(c);return e.jsxs("li",{className:m.item,children:[e.jsxs("div",{className:m.wrapper,children:[e.jsx("div",{className:m.letter,children:n}),e.jsxs("div",{className:m.wrapper_inside,children:[e.jsx("p",{children:t}),e.jsxs("div",{className:m.wrapper_icon,children:[e.jsx(N,{className:m.icon,id:"star",size:16}),e.jsx("p",{className:m.text_wrapper,children:l})]})]})]}),e.jsx("p",{className:m.comment,children:r})]})},q=({name:r,avatar_url:c,toggleModal:t})=>{var g,_,w,f,v,h,b;const{register:n,control:l,handleSubmit:d,formState:{errors:i}}=I({resolver:D(P)}),o=async x=>{try{await z(x),y.success("Appointment was made sucessfull. Please wait a call from our manager."),t()}catch(j){console.log(j.message),y.error("Password is incorrect or user doesn't exist. Please, try again.")}},p=()=>e.jsx("span",{children:"Привіт"});return e.jsxs("div",{className:a.wrapper,children:[e.jsx("p",{className:a.description,children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),e.jsxs("div",{className:a.inside_wrapper,children:[e.jsx("img",{className:a.avatar,src:c,alt:"Nanny's avatar"}),e.jsxs("div",{children:[e.jsx("p",{className:a.description,children:"Your nanny"}),e.jsx("p",{className:a.name,children:r})]})]}),e.jsxs("form",{onSubmit:d(o),className:a.form,children:[e.jsxs("div",{className:a.input_wrapper_second,children:[e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("input",{type:"text",...n("address"),placeholder:"Address"}),e.jsx("p",{className:a.form_error,children:(g=i.address)==null?void 0:g.message})]}),e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("input",{type:"text",...n("phone"),placeholder:"+380"}),e.jsx("p",{className:a.form_error,children:(_=i.phone)==null?void 0:_.message})]})]}),e.jsxs("div",{className:a.input_wrapper_second,children:[e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("input",{type:"text",...n("age"),placeholder:"Child's age"}),e.jsx("p",{className:a.form_error,children:(w=i.age)==null?void 0:w.message})]}),e.jsxs("div",{className:a.input_wrapper,children:[e.jsx(R,{control:l,name:"time",render:({field:x})=>e.jsx(k,{renderInput:p,showSecond:!1,clearIcon:e.jsx(N,{id:"clock",className:a.icon,size:20}),placeholder:"00:00",value:x.value,onChange:j=>{console.log(j),x.onChange(j)}})}),e.jsx("p",{className:a.form_error,children:(f=i.time)==null?void 0:f.message})]})]}),e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("input",{type:"email",...n("email"),placeholder:"Email"}),e.jsx("p",{className:a.form_error,children:(v=i.email)==null?void 0:v.message})]}),e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("input",{type:"text",...n("name"),placeholder:"Father's or mother's name"}),e.jsx("p",{className:a.form_error,children:(h=i.name)==null?void 0:h.message})]}),e.jsxs("div",{className:a.input_wrapper,children:[e.jsx("textarea",{type:"text",...n("comment"),placeholder:"Comment"}),e.jsx("p",{className:a.form_error,children:(b=i.comment)==null?void 0:b.message})]}),e.jsx("button",{className:a.btn_submit,type:"submit",children:"Send"})]})]})},G="_wrapper_1w2zx_1",H={wrapper:G},Q=()=>e.jsxs("div",{className:H.wrapper,children:[e.jsx(E,{}),e.jsx(K,{})]});export{Q as default};
