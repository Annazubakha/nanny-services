import{r as s,j as e,d as m,g as L,B as F,e as S,c as b}from"./index-6769e034.js";import{G as y,N as I,F as _}from"./GetUser-99049680.js";const A=({setLoading:o,filter:n})=>{const[i,l]=s.useState([]),[u,p]=s.useState(3),[g,v]=s.useState(!1),[j,x]=s.useState(0),[f,d]=s.useState(!0),h=y();s.useEffect(()=>{(async()=>{v(!0);try{o(!0),d(!0);const r=await L(h);if(r){const a=Object.values(r);x(a.length),d(!1),(a.length===0||a.length===3||a.length<u)&&(v(!1),d(!1),F.info("You have reached the end of nannies' list."))}const c=await S(h,u,n);if(o(!1),c){const a=Object.values(c);l(n==="Z to A"||n==="Popular"?a.reverse():a)}else return}catch{F.error("Something went wrong.")}})()},[u,h,j,o,n]);const N=t=>{p(r=>r+3),t.target.blur()},w=t=>{l(r=>r.filter(c=>c.name!==t))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:m.wrapper,children:[e.jsx("ul",{className:m.list,children:i.map(t=>e.jsx(I,{...t,onRemoveFromFavorites:w},t.name))}),f&&i.length===0&&e.jsx("div",{className:m.text_any,children:"There are no favorite nannies."}),!f&&g&&i.length!==0&&e.jsx("button",{className:m.btn_more,onClick:N,children:"Load more"})]})})},O="_wrapper_1dfpy_1",E={wrapper:O},U=()=>{const[o,n]=s.useState(!1),[i,l]=s.useState("A to Z");return e.jsxs(e.Fragment,{children:[o&&e.jsx(b,{size:25}),e.jsxs("div",{className:E.wrapper,children:[e.jsx(_,{setFilter:l}),e.jsx(A,{setLoading:n,filter:i})]})]})};export{U as default};
